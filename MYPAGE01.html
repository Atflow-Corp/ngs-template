<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGS 유전자 검사</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
	
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="img/logo.png" alt="Logo" width="50%" height="50%"> <!-- 로고 이미지 경로 -->
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">NGS 유전자 검사</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              사용자 이름
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">로그아웃</a></li>
              <li><a class="dropdown-item" href="#">내 정보 보기</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <div class="container-mybox">
        <h1 class="ngs-title">
            내 정보</h1>
        <!--<div class="infobox">
            <div class="infobox-title">아이디</div>
            <div class="infobox-content">wb.kim</div>
        </div> -->
        <div class="infobox">
            <div class="infobox-title">이름</div> 
            <div class="infobox-content">김원병</div>
        </div>
        <div class="infobox">
            <div class="infobox-title">나이</div>
            <div class="infobox-content">29세 (1994.12.21)</div>
        </div>
        <div class="infobox">
            <div class="infobox-title">성별</div>
            <div class="infobox-content">남자</div>
        </div>
        <div class="infobox">
            <div class="infobox-title">휴대폰 번호</div>
            <div class="infobox-content">010-1234-5678 <button type="button" class="btn btn-custom-purple" style="border-radius: 0.5rem; border: 1px solid var(--Brand-50, #F9F5FF); background: var(--Brand-50, #F9F5FF); box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05); color: var(--Brand-700, #6941C6); font-size: 1rem; font-weight: 800; line-height: 1.5rem;" onclick="showPhoneEditModal()">
            번호 수정</button></div>
        </div>
        <div class="infobox">
            <div class="infobox-title">소속병원</div>
            <div class="infobox-content">
                <input type="text" class="form-select" id="hospital" required placeholder="강남세브란스병원" width="300px">
            </div>
        </div>
        <div class="infobox">
            <div class="infobox-title">의료진 구분</div>
            <div class="infobox-multiline">
                <input type="text" class="form-select" id="position" required placeholder="의사" width="300px" height="46px">
                <input type="text" class="form-control" id="license" required placeholder="면허번호: 12-3456789" width="300px">
                <div class="file-name-container" style="display: flex; align-items: flex-start; flex-wrap: wrap; margin-top: 8px;">
                    <div class="file-name" id="fileName2" style="align-items: left; border: 1px solid #D0D5DD; padding: 5px 14px 5px 14px; overflow: hidden; flex-wrap: wrap;margin-right: 10px;height:46px">
                        <span id="fileNameText2" style="overflow: hidden; white-space: normal; text-overflow: ellipsis; text-align: left;">의사면허증파일.pdf</span>
                       
                    </div>
                    <button type="button" class="file-reset-btn" id="resetButton2" style="white-space: nowrap; align-self: flex-start;" onclick="resetFile('fileInput2', 'fileName2', 'resetButton2')">다시 선택</button>
            </div>
        </div></div>
        <div class="infobox">
            <div class="infobox-title">
            <button type="button" class="btn-delete">탈퇴하기</button>
        </div>
       
      </div> <div class="infobox">
        <div class="infobox-title">
       <div class="infobox-content"></div>
            </div>



     <!-- Footer -->
   <footer class="footer text-center">
    <div class="container">
      <p class="mb-0">© 2025 EverTri. All rights reserved.</p>
    </div>
  </footer>

  <!-- 휴대폰 번호 수정 모달 -->
  <div class="modal fade" id="phoneEditModal" tabindex="-1" aria-labelledby="phoneEditModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content phone-edit-modal">
        <div class="modal-header border-0">
          <div class="d-flex flex-column align-items-left">
            <h2>휴대폰 번호 수정</h2>
            <p>변경할 휴대폰 번호를 인증해주세요.</p>
          </div>
        </div>
       
          <div class="mb-3" style="margin-top: 0;">
            <label for="phone" class="phone-edit-label">휴대폰 번호</label>
            <div class="input-group">
              <input type="tel" class="form-control" id="phone" placeholder="휴대폰 번호 입력 (-없이 입력)">
              <button type="button" class="btn btn-secondary" id="sendVerification">인증번호</button>
            </div>
          </div>
          <div class="mb-3" id="verificationSection" style="display: none;">
            <label for="verificationCode" class="phone-edit-label">인증번호</label>
            <div class="input-group">
              <input type="text" class="form-control" id="verificationCode" placeholder="인증번호 6자리 입력">
              <span class="input-group-text" id="timer">3:00</span>
            </div>
            <small class="text-muted">인증번호가 오지 않았나요? <a href="#" id="resendCode">재전송하기</a></small>
          </div>
          <button type="submit" class="btn btn-custom-purple w-100" id="loginButton" disabled><b>확인</b></button>
        </form>
        </div>
      </div>
    </div>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function showPhoneEditModal() {
      var modal = new bootstrap.Modal(document.getElementById('phoneEditModal'));
      modal.show();
    }
    
   
    document.getElementById('sendVerification').addEventListener('click', function() {
        const phoneNumber = document.getElementById('phone').value;
        if (phoneNumber.length === 11) {  // 휴대폰 번호 유효성 검사
            document.getElementById('verificationSection').style.display = 'block';
            startTimer();
            // TODO: 서버에 인증번호 전송 요청
        } else {
            alert('올바른 휴대폰 번호를 입력해주세요.');
        }
    });

    function startTimer() {
        let timeLeft = 180; // 3분
        const timerDisplay = document.getElementById('timer');
        const timer = setInterval(() => {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft <= 0) {
                clearInterval(timer);
                timerDisplay.textContent = '시간 만료';
            }
            timeLeft--;
        }, 1000);
    }

    document.getElementById('verificationCode').addEventListener('input', function() {
        document.getElementById('loginButton').disabled = this.value.length !== 6;
    });

    document.getElementById('resendCode').addEventListener('click', function(e) {
        e.preventDefault();
        startTimer();
        // TODO: 인증번호 재전송 로직
    });

  </script>
</body>
</html>
